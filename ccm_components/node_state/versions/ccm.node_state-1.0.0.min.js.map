{"version":3,"file":"ccm.node_state-1.0.0.min.js","sources":["ccm.node_state-1.0.0.js"],"sourcesContent":["/**\n * @component ccm-node_info\n * @author René Müller <rene.mueller@smail.inf.h-brs.de> 2019\n * @license MIT License\n * @version 1.0.0\n */\n\n\"use strict\";\n\n( () => {\n\n    const component = {\n\n        name: 'node_state',\n        version: [1, 0, 0],\n\n        ccm: {\n            url: 'https://ccmjs.github.io/ccm/versions/ccm-18.6.8.min.js',\n            integrity: 'sha384-PnqnIRmePKkglGAFgJCKvXYVLkMYjZ+kySHxtNQS0kH2dIXKwISMKu2irzx+YyCY',\n            crossorigin: 'anonymous'\n        },\n\n        config: {\n            css: ['ccm.load', 'https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css'],\n            js: ['ccm.load', ['https://code.jquery.com/jquery-3.3.1.min.js', 'https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js']],\n            web3: ['ccm.instance', 'https://cdn.jsdelivr.net/gh/hbrs/master_thesis/ccm_components/web3/ccm.web3.min.js'],\n            metamask: ['ccm.instance', 'https://cdn.jsdelivr.net/gh/hbrs/master_thesis/ccm_components/metamask/ccm.metamask.min.js'],\n\n            html: ['ccm.load', 'https://cdn.jsdelivr.net/gh/hbrs/master_thesis/ccm_components/node_state/resources/html_state.min.js']\n        },\n\n        Instance: function () {\n\n            /* Lifecycle */\n\n            this.init = async () => {};\n            this.ready  = async () => {};\n            this.start  = async () => {\n\n                if(this.provider === 'metamask' && this.metamask.isMetaMask())\n                    this.web3.provider.setProvider(this.metamask.getProvider());\n                else\n                    this.web3.provider.setByUri(this.provider);\n\n                if(this.web3.isConnected()) {\n                    this.html.inner[1].inner[0].inner.class = \"list-group-item list-group-item-success\";\n                    this.html.inner[1].inner[0].inner.inner = \"Connected\";\n                } else {\n                    this.html.inner[1].inner[0].inner.class = \"list-group-item list-group-item-danger\";\n                    this.html.inner[1].inner[0].inner.inner = \"Not connected!\";\n                }\n\n                this.html.inner[1].inner[2].inner[1].inner[1].inner = this.web3.version.api();\n                this.html.inner[1].inner[2].inner[2].inner[1].inner = await this.web3.version.node();\n                this.html.inner[1].inner[2].inner[3].inner[1].inner = await this.web3.version.network();\n                this.html.inner[1].inner[2].inner[4].inner[1].inner = await this.web3.version.ethereum();\n\n                this.html.inner[1].inner[4].inner[1].inner[1].inner = await this.web3.net.isListening();\n                this.html.inner[1].inner[4].inner[2].inner[1].inner = await this.web3.net.peerCount();\n\n\n                this.ccm.helper.setContent(this.element, this.ccm.helper.html(this.html, {}));\n                //this.ccm.helper.setContent(this.element, `<span style=\"font-size: 1em; color: red;\"><i class=\"fas fa-check-circle\"></i></span>`);\n\n                this.showToast(document.querySelector(this.selector));\n            };\n\n\n            /* Functions */\n\n            this.showToast = (element) => {\n                element.addEventListener('click', () => {\n                    $(this.element.querySelector('#toast')).toast(\"show\");\n                });\n            };\n        }\n    };\n\n    let b=\"ccm.\"+component.name+(component.version?\"-\"+component.version.join(\".\"):\"\")+\".js\";if(window.ccm&&null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&&window.ccm.components[component.name])&&b.ccm&&(component.ccm=b.ccm);\"string\"===typeof component.ccm&&(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)/)||[\"latest\"])[0];if(window.ccm&&window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement(\"script\");document.head.appendChild(a);component.ccm.integrity&&a.setAttribute(\"integrity\",component.ccm.integrity);component.ccm.crossorigin&&a.setAttribute(\"crossorigin\",component.ccm.crossorigin);a.onload=function(){window.ccm[c].component(component);document.head.removeChild(a)};a.src=component.ccm.url}\n} )();"],"names":["component","b","c","a","element"],"mappings":"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"}